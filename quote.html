<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Request a Quote â€“ JDE Solutions LLC</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" />
  <meta name="theme-color" content="#222f2e" />
</head>
<body>

  <nav>
    <a href="index.html" class="nav-icon home">Home</a>
    <a href="services.html" class="nav-icon services">Services</a>
    <a href="quote.html" class="nav-icon quotes">Quotes</a>
    <a href="about.html" class="nav-icon about">About</a>
    <a href="contact.html" class="nav-icon contact">Contact</a>
  </nav>

  <div class="container">
    <h2>Request a Quote</h2>
    <form id="quoteForm">
      <label>Full Name
        <input type="text" name="name" required />
      </label>
      <label>Company
        <input type="text" name="company" />
      </label>
      <label>Email
        <input type="email" name="email" required />
      </label>
      <label>Service Category
        <select name="category" id="category">
          <option value="ops">Operational Management</option>
          <option value="security">Security & Surveillance</option>
          <option value="infra">Technical Infrastructure</option>
          <option value="custombiz">Custom Business Solutions</option>
          <option value="custom">Custom Solutions</option>
        </select>
      </label>
      <label>Estimated Hours
        <input type="number" name="hours" id="hours" min="1" required />
      </label>
      <label>Hourly Rate (USD)
        <input type="number" name="rate" id="rate" required />
      </label>
      <label>Project Description
        <textarea name="description" rows="4"></textarea>
      </label>
      <button type="submit">Calculate Quote</button>
    </form>
    <div class="result" id="quoteResult"></div>
  </div>

  <footer>&copy; 2025 JDE Solutions LLC</footer>

  <script>
    const defaultRates = {
      ops: 150,
      security: 125,
      infra: 135,
      custombiz: 160,
      custom: 145
    };

    // Set default rate
    document.getElementById('rate').value = defaultRates.ops;

    // Update rate when category changes
    document.getElementById('category').addEventListener('change', e => {
      document.getElementById('rate').value = defaultRates[e.target.value];
    });

    // Quote calc + mailto
    document.getElementById('quoteForm').addEventListener('submit', e => {
      e.preventDefault();
      const name = e.target.name.value;
      const email = e.target.email.value;
      const cat = e.target.category.value;
      const hours = parseFloat(e.target.hours.value);
      const rate = parseFloat(e.target.rate.value);
      const total = (hours * rate).toFixed(2);
      const desc = e.target.description.value;

      const resultDiv = document.getElementById('quoteResult');
      resultDiv.style.display = 'block';
      resultDiv.innerHTML = `
        <p><strong>Estimated Quote:</strong><br/>
        ${hours} hrs @ $${rate.toFixed(2)} = <strong>$${total}</strong></p>
      `;

      // open email client
      const subject = encodeURIComponent(`Quote Request from ${name}`);
      const body = encodeURIComponent(
        `Name: ${name}\n` +
        `Company: ${e.target.company.value}\n` +
        `Service: ${e.target.category.selectedOptions[0].text}\n` +
        `Hours: ${hours}\nRate: $${rate}\nTotal: $${total}\n\nDescription:\n${desc}`
      );
      window.location.href = `mailto:jeff@jdesolutionsllc.com?subject=${subject}&body=${body}`;
    });
  </script>
</body>
</html>
